@page "{topicName?}"
@model CoreWiki.Pages.DetailsModel

@{
		ViewData["Title"] = "Details";
}

@functions  {

	public int CalculateReadTime(string content)
	{
		var wpm = 275.0m;
		var wordCount = content.Split(' ').Length;
		return (int)Math.Ceiling(wordCount / wpm);
	}

}

<h2>@Model.Article.Topic</h2>
<h5>Last Published: <span data-value="@Model.Article.Published" class="timeStampValue"> @Model.Article.Published</span></h5>
<h5>View Count: <span data-value="@Model.Article.ViewCount"> @Model.Article.ViewCount</span></h5>
<h5>Estimated Reading Time (minutes): <span> @CalculateReadTime(Model.Article.Content)</span></h5>
<markdown markdown="Article.Content" />

<div>
	<a asp-page="./Edit" asp-route-id="@Model.Article.Topic">Edit</a>

	@if (Model.Article.Topic != "HomePage")
	{
		<text>| </text><a href="~/">Back to Home</a>
			}
</div>

